<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Push-Up Battle ‚Äî Controller</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <!-- ‚îÄ‚îÄ LOADING SCREEN ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
    <div id="loadingScreen" class="screen active">
        <div class="loader-box">
            <div class="loader-spinner"></div>
            <div class="loader-text">Initializing...</div>
            <div class="loader-sub"></div>
        </div>
    </div>

    <!-- ‚îÄ‚îÄ GAME SCREEN ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
    <div id="gameScreen" class="screen">
        <div class="video-wrap">
            <video id="video" autoplay playsinline muted></video>
            <canvas id="overlay"></canvas>

            <!-- 3-2-1 countdown overlay -->
            <div id="countdownOverlay" class="countdown-overlay hidden">
                <div id="countdownNumber" class="countdown-number">3</div>
            </div>

            <!-- No person warning -->
            <div id="noPersonOverlay" class="no-person-overlay hidden">
                <div class="no-person-text">‚ö† NO PERSON DETECTED</div>
                <div class="no-person-timer">Forfeit in <span id="noPersonTimer">5</span>s</div>
            </div>
        </div>

        <div class="hud">
            <div id="teamBadge" class="badge">CONNECTING...</div>
            <div class="stat-row">
                <div class="stat-box">
                    <div class="stat-label">PUSH-UPS</div>
                    <div id="pushupCount" class="stat-value">0</div>
                </div>
                <div class="stat-box">
                    <div id="stateIndicator" class="state-indicator">üìê CALIBRATING</div>
                </div>
                <div class="stat-box">
                    <div id="soldiersCount" class="stat-sub">‚öî 0 soldiers sent</div>
                </div>
            </div>
            <div class="angle-bar">
                <div id="angleBarFill" class="angle-bar-fill"></div>
            </div>
            <div id="gameStatus" class="game-status hidden"></div>
        </div>

        <button id="readyBtn" class="ready-btn">‚öî READY</button>

        <!-- Deploy mode selector -->
        <div id="deployModeSelector" class="deploy-selector">
            <button id="autoModeBtn" class="mode-btn active">ü§ñ AUTO</button>
            <button id="manualModeBtn" class="mode-btn">üéØ MANUAL</button>
        </div>

        <!-- Head/lean indicator (manual mode) -->
        <div id="headIndicator" class="head-indicator hidden">
            <span id="headArrow">‚¨Ü</span>
            <span id="headLabel">LEAN TO AIM</span>
        </div>
    </div>

    <!-- ‚îÄ‚îÄ GAME OVER SCREEN ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
    <div id="overScreen" class="screen">
        <div id="overResult" class="over-result"></div>
        <div id="overStats" class="over-stats"></div>
    </div>

    <!-- Deploy badge (floating) -->
    <div id="deployBadge" class="deploy-badge hidden"></div>

    <script type="module" src="controller.js"></script>
</body>

</html>